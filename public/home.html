<!doctype html>
<html ng-app="funnel" ng-controller="maincontroller" ng-model="names">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="UTF-8">
  <!-- Angular Material Dependencies -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.2/angular-animate.min.js"></script>

  <!-- Angular Loading background-colar -->
  <link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.7.1/loading-bar.min.css' type='text/css' media='all' />
  <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.7.1/loading-bar.min.js'></script>

  <!-- JQuery -->
  <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
  <script src="../node_modules/ngprogress/build/ngProgress.js"></script>

  <!-- Local -->
  <link rel="stylesheet" type="text/css" href="./stylesheets/home.css" />
  <script src="./controllers/maincontroller.js"></script>

  <!-- Material Design Lite -->
  <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.5/material.blue_grey-red.min.css" />
  <script src="https://storage.googleapis.com/code.getmdl.io/1.0.5/material.min.js"></script>

  <!-- Google Fonts-->
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'></link>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <link href="https://lineto.com/The+Fonts/Font+Categories/Text+Fonts/Circular/" rel="stylesheet">

</head>
<!-- Nav bar-->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

  <header class="mdl-layout__header2 shadow">
    <div class="mdl-layout__header-row2">
      <!-- Title-->


        <img src="images/darwin-logo.png"  href="home.html" style="width:83px;height:auto; padding-left:7px">
      <!--
      <form>
        <input style="width:300%; color:#ea5b5b "spellcheck="false" autocapitalize="off" type="text" autocorrect="off" placeholder="Search Darwin" ng-click="searchbarclick = ! searchbarclick">
      </form>
      -->

      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation. We hide it in small screens. -->
      <nav class="mdl-navigation mdl">
        <a ng-click="loadMainData() " class="mdl-navigation__link2" style="white" tabindex="0">
          <img class="refreshicon" src="images/refresh.png" /> Refresh
        </a>
        <a ng-click="showprofileoptions = ! showprofileoptions; showsubjects=false" class="mdl-navigation__link2" tabindex="0">
          <img class="profilepic" src="images/profilepic.jpg" />
          <span>Romario</span>
        </a>

      </nav>
    </div>





  </header>
  <div class="derpina"></div>

  <!-- Start of main content-->

  <body ng-controller="SubjectTitle">
    <main class="mdl-layout__content" ng-controller="ScrollController">
      <div class="mdl-grid containee">

        <div class="invisilayer">


          <!-- Profile Drop down menu-->
          <div class="profilelist" id="toolbox" ng-if="showprofileoptions">
            <div style="background-color:white; border: 1px solid lightgrey; width:140px; font-size:10px; float:right; margin-top:5px; border-radius:2px;
            box-shadow:0px 5px 10px 0px rgba(0,0,0,0.15);position:absolute; text-transform: uppercase ">
              <div><a class="profileoption">Your profile</a></div>
              <div><a class="profileoption" href="index.html">Sign out</a></div>
            </div>
          </div>

        </div>

        <div class=" mdl-cell--3-col-desktop" style="margin-top:7px" >

            <!-- Favourites-->
            <div class="derp2" id="toolbox">

              <div class="activityheader">
                <span>{{Subject.title}}</span>

                <p style="padding-top:3px;font-size:10px; color:#c1c1c1">Last Updated: Today: 12:03pm</p>
                <div style="width:33px; height:1px; background-color:#e4e0e0"></div>
                <!-- <p style="padding-top:15px;font-size:11px; color:Black; line-height:20px; letter-spacing:0.29">Lorem ipsum
                   dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
                    magna aliqua. Ut enim ad minim veniam</p> -->
                <div class="standardbutton" style="margin-top:25px;text-align:center;
                color:#4990E2; padding-left:0px;  width:95%;"  ng-click="loadData(name.url)">subscribe</div>
              </div>

              <div  style="font-size: 10px;
                font-weight: semibold;
                padding-top: 15px;
                font-family: Opensans;
                letter-spacing: 0.5px;
                color:#c5c5c5;
                text-transform:uppercase;
                margin-left:5%">Subscriptions
              </div>
              <div style="margin-top:10px;">
                <a ng-mouseover="showimage = true" ng-mouseleave="showimage=false"  ng-hide="name.favourite=='no'"
                ng-repeat="name in subjectsnames" ng-click="loadData(name.url); updateModel(name.name);scroll();select(name.name)"
                ng-class="{favclicked: isActive(name.name)}"  class="updatetopics" style="">
                  <div class="hidepostdiv" ng-if="showhidepostdive">
                    <div class="hidetext">Remove</div>
                  </div>
                  <img ng-if="showimage" ng-click="showhidepostdive = ! showhidepostdive" class="settingsimage" src="images/settings.png"/>
                  <!--  <div class="updatenumber"  ng-class="{favclickednumber: isActive(name.name)}">{{name.updates}}</div> -->
                  <span>{{name.name}}<span>
                </a>
              </div>
            </div>



            <div class="basesignature1" style="padding:10px; padding-left:13px; text-align:center; font-weight:500; color:grey"> Funnel © 2015
              <span>• Developed by Romario Coffie</span>
            </div>


        </div>


        <div class=" mdl-cell--6-col-desktop"  id="div1" >

          <!-- Loadering icon-->
          <div id="p2" class="mdl-progress mdl-js-progress mdl-progress__indeterminate" style="display:none"></div>

          <!-- Post card -->
          <div class="mdl-frontpagecard" ng-init="hidethispost=false" ng-hide="hidethispost" ng-repeat="data in names.data.children">
            <div class="hidepostdiv" ng-if="showhidepostdive">
              <div ng-click="hidethispost=true" class="hidetext" style="z-index:5">Hide post</div>
            </div>
            <div  class="cardcontainer">
              <img class="arrowdown" src="images/arrowdown.png" ng-click="showhidepostdive = ! showhidepostdive" />
              <div class="cardsourcecontainer">
                <a ng-href="https://www.reddit.com/r/{{ data.data.subreddit }}">{{ data.data.subreddit }}</a>
                <span style="float:right; padding-right:175px; font-family:opensans; font-weight:500;  font-size:9px"> 7 Hours ago</span>
              </div>

              <div style="height:auto; width:auto; padding-bottom:15px; padding-top:15px;margin-bottom:2px; ">

              <a style="font-weight: 600; font-size:10px; display:block " ng-href="https://www.reddit.com/user/{{ data.data.author }}">{{ data.data.author }}</a>
              <a class="cardtitle" ng-href="https://www.reddit.com{{ data.data.permalink }}">{{ data.data.title }}</a>
              <div class="imagediv" ng-hide="!data.data.preview.images[0].source.url ">
                <a style="width:inherit !important"ng-href="{{ data.data.url}}">
                  <img ng-src="{{data.data.preview.images[0].source.url}}" class="imageclass">
                </a>
              </div>
              </div>
              <div class="commentcontainer">
                <div class="cardsection3font">

                  <div style="margin-top:-3px; display:inline-block;">
                    <img class="upvoteicon" src="images/upvote.png" />
                    <span style="padding-left:3px">{{ data.data.ups }}</span>
                  </div>

                  <div class="fpcomment">
                    <img class="commenticon" src="images/comment.png" />
                    <a style="margin-left:3px; font-weight:bold " ng-href="https://www.reddit.com{{ data.data.permalink }}">{{ data.data.num_comments }} comments</a>
                  </div>
                </div>
              </div>



              <!-- video
                <video   ng-hide="!names.data.children[count].data.secure_media.oembed.url" autoplay="autoplay" preload="auto" ng-click="video()">
                  <source ng-src="{{ currentvideourl }}" type="video/mp4" />
                </video>
                -->
            </div>
          </div>
        </div>

        <!-- Current Topic -->
        <div class="mdl-cell--3-col-desktop" style="margin-left:10px; margin-top:15px">
          <div class="activity" id="toolbox">


            <div class="subjectlist " id="toolbox" >
              <div class="allsubredditsheader">
                <span>Subreddits</span>
                <div style="width:33px; height:1px; background-color:#e4e0e0; margin-top:10px"></div>
              </div>
              <form style="">
                <input spellcheck="false" autocapitalize="off" type="minisearch" autocorrect="off"  ng-model="search" placeholder="Search for Subreddit... " ng-click="searchbarclick = ! searchbarclick">
              </form>
              <div ng-model="subjectsnames">
                <a ng-click="loadData(name.url); updateModel(name.name);scroll()" ng-class="{favclicked: isActive(name.name)}" ng-repeat="name in subjectsnames | filter:search" class="updatetopics"  ng-mouseenter="hover = true" ng-mouseleave="hover = false">
                  <span>{{name.name}}<span>
                </a>
              </div>
            </div>

          </div>

        </div>



      </div>

</div>
</main>
</body>

<script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-69395919-1', 'auto');
  ga('send', 'pageview');
</script>

<script>
  $(function() {

    var toolbox = $('#toolbox'),
      height = toolbox.height(),
      scrollHeight = toolbox.get(0).scrollHeight;

    toolbox.bind('mousewheel', function(e, d) {
      if ((this.scrollTop === (scrollHeight - height) && d < 0) || (this.scrollTop === 0 && d > 0)) {
        e.preventDefault();
      }
    });

  });
</script>


</html>
